{"code":"!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"./src/assets/GCWeb/js\",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){r(2)},function(e,t){\n/**\n * @title WET-BOEW Action Manager\n * @overview API that coordinate actions with other wet-boew plugin\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\n!function(e,t){\"use strict\";var r=t.doc,a=\"wb-actionmng.wb-actionmng\",n={},i={},o={},l=[\"patch\",\"ajax\",\"addClass\",\"removeClass\",\"tblfilter\",\"run\"].join(\".\"+a+\" \")+\".\"+a,s=function(e,t,r){t[e]||(t[e]=[]),t[e].push(r)},c=function(e,t,r){var n,i,o;for(n=r[t];i=n.shift();)(o=i.action)&&(e.trigger(o+\".\"+a,i),delete i.action)};r.on(\"do.\"+a,function(t){var r,l,u,d,p,f,g,b=t.element||t.target,h=b.id,m=t.actions||[];if((b===t.target||t.currentTarget===t.target)&&-1===b.className.indexOf(\"wb-actionmng\")){for(e.isArray(m)||(m=[m]),(u=m.length)&&(r=e(b)).addClass(\"wb-actionmng\"),h&&n[h]&&c(r,h,n),l=0;l!==u;l+=1)(p=(d=m[l]).action)&&((f=d.target)?(d.trgbefore?s(f,n,d):s(f,i,d),(g=d.trggroup)&&s(g,o,d)):r.trigger(p+\".\"+a,d));h&&i[h]&&c(r,h,i),e(t.target).removeClass(\"wb-actionmng\")}}),r.on(\"clean.\"+a,function(e){var t,r,a=e.element||e.target,n=e.trggroup;if((a===e.target||e.currentTarget===e.target)&&n&&o[n])for(t=o[n];r=t.shift();)delete r.action}),r.on(l,\".wb-actionmng\",function(r,n){var i=r.type;if(a===r.namespace)switch(i){case\"run\":!function(t,r){var n,i,l,s,c=t.target,u=e(c),d=o[r.trggroup];if(d&&!u.hasClass(\"wb-actionmngRn\")){for(u.addClass(\"wb-actionmngRn\"),i=d.length,n=0;n!==i;n+=1)(s=(l=d[n]).action)&&u.trigger(s+\".\"+a,l);u.removeClass(\"wb-actionmngRn\")}}(r,n);break;case\"tblfilter\":!function(t,r){var a=t.target,n=e(r.source||a),i=r.column,o=parseInt(i,10),l=!!r.regex,s=!r.smart||!!r.smart,c=!r.caseinsen||!!r.caseinsen;if(\"TABLE\"!==n.get(0).nodeName)throw\"Table filtering can only applied on table\";i=!0===o?o:i,n.dataTable({retrieve:!0}).api().column(i).search(r.value,l,s,c).draw()}(r,n);break;case\"addClass\":!function(t,r){var a=e(r.source||t.target);r.class&&a.addClass(r.class)}(r,n);break;case\"removeClass\":!function(t,r){var a=e(r.source||t.target);r.class&&a.removeClass(r.class)}(r,n);break;case\"ajax\":!function(r,a){var n,i,o;a.container?n=e(a.container):(i=t.getId(),n=e(\"<div id='\"+i+\"'></div>\"),e(r.target).after(n)),a.trigger&&n.attr(\"data-trigger-wet\",\"true\"),o=a.type?a.type:\"replace\",n.attr(\"data-ajax-\"+o,a.url),n.one(\"wb-contentupdated\",function(r,a){var n=r.currentTarget,i=n.getAttribute(\"data-trigger-wet\");n.removeAttribute(\"data-ajax-\"+a[\"ajax-type\"]),i&&(e(n).find(t.allSelectors).addClass(\"wb-init\").filter(\":not(#\"+n.id+\" .wb-init .wb-init)\").trigger(\"timerpoke.wb\"),n.removeAttribute(\"data-trigger-wet\"))}),n.trigger(\"wb-update.wb-data-ajax\")}(r,n);break;case\"patch\":!function(t,r){var a=r.source,n=r.patches,i=!!r.cumulative;n&&(e.isArray(n)||(n=[n]),e(a).trigger({type:\"patches.wb-jsonmanager\",patches:n,fpath:r.fpath,filter:r.filter||[],filternot:r.filternot||[],cumulative:i}))}(0,n)}}),r.on(\"timerpoke.wb wb-init.wb-actionmng\",\"[data-wb-actionmng]\",function(r){var a,n,i,l,c,u,d=t.init(r,\"wb-actionmng\",\".wb-actionmng\");if(d){if(a=e(d),n=t.getData(a,\"wb-actionmng\"))for(e.isArray(n)||(n=[n]),l=n.length,i=0;i!==l;i+=1)(u=(c=n[i]).trggroup)&&c.action&&s(u,o,c);t.ready(a,\"wb-actionmng\")}}),t.add(\"[data-wb-actionmng]\")}(jQuery,wb),\n/**\n * @title WET-BOEW Data Json [data-json-after], [data-json-append],\n * [data-json-before], [data-json-prepend], [data-json-replace], [data-json-replacewith] and [data-wb-json]\n * @overview Insert content extracted from JSON file.\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t,r){\"use strict\";var a,n=[\"[data-json-after]\",\"[data-json-append]\",\"[data-json-before]\",\"[data-json-prepend]\",\"[data-json-replace]\",\"[data-json-replacewith]\",\"[data-wb-json]\"],i=[\"after\",\"append\",\"before\",\"prepend\",\"val\"],o=/(href|src|data-*|pattern|min|max|step|low|high)/,l=/(checked|selected|disabled|required|readonly|multiple|hidden)/,s=n.length,c=n.join(\",\"),u=\"wb-data-json-queue\",d=r.doc,p=function(a,n,i,o,l){var s,c=e(a),u={url:n,refId:i,nocache:o,nocachekey:l},d=t[\"wb-data-json\"];!d||\"http\"!==n.substr(0,4)&&\"//\"!==n.substr(0,2)||(s=r.getUrlParts(n),r.pageUrlParts.protocol===s.protocol&&r.pageUrlParts.host===s.host||Modernizr.cors&&!d.forceCorsFallback||\"function\"==typeof d.corsFallback&&(u.dataType=\"jsonp\",u.jsonp=\"callback\",u=d.corsFallback(u))),c.trigger({type:\"json-fetch.wb\",fetch:u})},f=function(t,a,n){var i,o,l,s,c,u,d,p,b,h,m,v,w,y=a.mapping||[{}],j=a.filter||[],x=a.filternot||[],S=a.queryall,k=a.tobeclone,A=t.className,E=t,C=a.source?document.querySelector(a.source):t.querySelector(\"template\");if(e.isArray(n)||(n=\"object\"!=typeof n?[n]:e.map(n,function(t,r){return\"object\"!=typeof t||e.isArray(t)?t={\"@id\":r,\"@value\":t}:t[\"@id\"]||(t[\"@id\"]=r),[t]})),l=n.length,e.isArray(y)||(y=[y]),i=y.length,\"TABLE\"===t.tagName&&y&&-1!==A.indexOf(\"wb-tables-inited\")&&\"string\"==typeof y[0]){for(w=e(t).dataTable({retrieve:!0}).api(),o=0;o<l;o+=1)if(s=n[o],g(s,j,x)){for(p=\"/\"+o,v=[],c=0;c<i;c+=1)v.push(jsonpointer.get(n,p+y[c]));w.row.add(v)}w.draw()}else if(C)for(C.content||r.tmplPolyfill(C),a.appendto&&(E=e(a.appendto).get(0)),o=0;o<l;o+=1)if(s=n[o],g(s,j,x)){for(p=\"/\"+o,b=k?C.content.querySelector(k).cloneNode(!0):C.content.cloneNode(!0),S&&(h=b.querySelectorAll(S)),c=0;c<i||0===c;c+=1)u=y[c],m=h?h[c]:u.selector?b.querySelector(u.selector):b,(d=u.attr)&&(m.hasAttribute(d)||m.setAttribute(d,\"\"),m=m.getAttributeNode(d)),v=\"string\"==typeof s?s:\"string\"==typeof u?jsonpointer.get(n,p+u):jsonpointer.get(n,p+u.value),u.placeholder&&(v=(m.textContent||\"\").replace(u.placeholder,v)),e.isArray(v)?f(m,u,v):u.isHTML?m.innerHTML=v:m.textContent=v;E.appendChild(b)}},g=function(e,t,r){var a,n,i,o=t.length,l=r.length,s=!1;if(o||l){for(a=0;a<o;a+=1)if(n=t[a],i=b(jsonpointer.get(e,n.path),n.value),n.optional)s=s||i;else{if(!i)return!1;s=!0}if(o&&!s)return!1;for(a=0;a<l;a+=1)if(n=r[a],(i=b(jsonpointer.get(e,n.path),n.value))&&!n.optional||i&&n.optional)return!1}return!0},b=function(t,r){switch(typeof t){case\"undefined\":return!1;case\"boolean\":case\"string\":case\"number\":return t===r;case\"object\":if(null===t)return null===r;if(e.isArray(t)){if(e.isArray(r)||t.length!==r.length)return!1;for(var a=0,n=t.length;a<n;a++)if(!b(t[a],r[a]))return!1;return!0}var i=h(r).length;if(h(t).length!==i)return!1;for(a=0;a<i;a++)if(!b(t[a],r[a]))return!1;return!0;default:return!1}},h=function(t){if(e.isArray(t)){for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=\"\"+a;return r}if(Object.keys)return Object.keys(t);r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(n);return r};d.on(\"json-failed.wb\",c,function(){throw\"Bad JSON Fetched from url in wb-data-json\"}),Modernizr.load({test:\"content\"in document.createElement(\"template\"),nope:\"site!deps/template\"+r.getMode()+\".js\"}),d.on(\"timerpoke.wb wb-init.wb-data-json wb-update.wb-data-json json-fetched.wb\",c,function(t){if(t.currentTarget===t.target)switch(t.type){case\"timerpoke\":case\"wb-init\":!function(t){var a,n=r.init(t,\"wb-data-json\",c);if(n){var i,o,l,s,d,f=[\"before\",\"replace\",\"replacewith\",\"after\",\"append\",\"prepend\"],g=f.length,b=[];for(a=e(n),l=0;l!==g;l+=1)i=f[l],null!==(d=n.getAttribute(\"data-json-\"+i))&&b.push({type:i,url:d});if(r.ready(a,\"wb-data-json\"),(o=r.getData(a,\"wb-json\"))&&o.url)b.push(o);else if(o&&e.isArray(o))for(g=o.length,l=0;l!==g;l+=1)b.push(o[l]);for(a.data(u,b),g=b.length,l=0;l!==g;l+=1)s=b[l],p(n,s.url,l,s.nocache,s.nocachekey)}}(t);break;case\"wb-update\":!function(t){var r=t.target,a=e(r),n=a.data(u),i=n.length,o=t[\"wb-json\"];if(!o.url||!o.type&&!o.source)throw\"Data JSON update not configured properly\";n.push(o),a.data(u,n),p(r,o.url,i)}(t);break;default:!function(t){var a,n=t.target,s=e(n),c=s.data(u),d=t.fetch,p=c[d.refId],g=p.type,b=p.prop||p.attr,h=p.showempty,m=d.response,v=typeof m;if(h||\"undefined\"!==v){if(h&&\"undefined\"===v&&(m=\"\"),a=jQuery.ajaxSettings.cache,jQuery.ajaxSettings.cache=!0,g)if(\"replace\"===g)s.html(m);else if(\"replacewith\"===g)s.replaceWith(m);else if(\"addclass\"===g)s.addClass(m);else if(\"removeclass\"===g)s.removeClass(m);else if(\"prop\"===g&&b&&l.test(b))s.prop(b,m);else if(\"attr\"===g&&b&&o.test(b))s.attr(b,m);else{if(\"function\"!=typeof s[g]||-1===i.indexOf(g))throw\"wb-data-json do not support type: \"+g;s[g](m)}else g=\"template\",f(n,p,m),p.trigger&&s.find(r.allSelectors).addClass(\"wb-init\").filter(\":not(#\"+n.id+\" .wb-init .wb-init)\").trigger(\"timerpoke.wb\");jQuery.ajaxSettings.cache=a,s.trigger(\"wb-contentupdated\",{\"json-type\":g,content:m})}}(t)}return!0});for(a=0;a!==s;a+=1)r.add(n[a])}(jQuery,window,wb),\n/**\n * @title WET-BOEW Template polyfill\n * @overview The <template> element hold elements for Javascript and templating usage. Based on code from http://ironlasso.com/template-tag-polyfill-for-internet-explorer/\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t,r){\"use strict\";var a=r.doc,n=function(e){if(!e.content){var r,a,n=e;for(r=n.childNodes,a=t.createDocumentFragment();r[0];)a.appendChild(r[0]);n.content=a}};r.tmplPolyfill=n,a.on(\"timerpoke.wb wb-init.wb-template\",\"template\",function(t){var a=r.init(t,\"wb-template\",\"template\");a&&(n(a),r.ready(e(a),\"wb-template\"))}),r.add(\"template\")}(jQuery,document,wb),\n/**\n * @title WET-BOEW URL mapping\n * @overview Execute pre-configured action based on url query string\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t,r){\"use strict\";var a=\"a[data-wb-doaction],button[data-wb-doaction]\",n=r.doc;n.on(\"click\",a,function(t){var i=t.target,o=e(i);if(t.currentTarget!==t.target&&(i=(o=o.parentsUntil(\"main\",a))[0]),\"BUTTON\"===i.nodeName||\"A\"===i.nodeName)return r.isReady?o.trigger({type:\"do.wb-actionmng\",actions:r.getData(o,\"wb-doaction\")}):n.one(\"wb-ready.wb\",function(){o.trigger({type:\"do.wb-actionmng\",actions:r.getData(o,\"wb-doaction\")})}),!1})}(jQuery,window,wb),\n/**\n * @title WET-BOEW Field Flow\n * @overview Transform a basic list into a selectable list.\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t,r){\"use strict\";var a=\"wb-fieldflow\",n=\".\"+a,i=a+\"-form\",o=a+\"-sub\",l=a+\"-init\",s=\".\"+l,c=a+r.getId(),u=\"[name^=\"+c+\"]\",d=a+\"-label\",p=a+\"-header\",f=\".\"+i,g=\"wb-init\"+n,b=\"draw\"+n,h=\"action\"+n,m=\"submit\"+n,v=\"submited\"+n,w=\"ready\"+n,y=\"clean\"+n,j=\"reset\"+n,x=\"createctrl\"+n,S=a+\"-register\",k=a+\"-hdnfld\",A=a+\"-config\",E=a+\"-push\",C=a+\"-submit\",q=a+\"-action\",I=a+\"-origin\",O=\"data-\"+a+\"-source\",T=a+\"-flagoptvalue\",N=r.doc,D={toggle:{stateOn:\"visible\",stateOff:\"hidden\"},i18n:{en:{btn:\"Continue\",defaultsel:\"Make your selection...\",required:\"required\"},fr:{btn:\"Allez\",defaultsel:\"SÃ©lectionnez dans la liste...\",required:\"obligatoire\"}},action:\"ajax\",prop:\"url\"},P=[[\"redir\",\"query\",\"ajax\",\"addClass\",\"removeClass\",\"removeClass\",\"append\",\"tblfilter\",\"toggle\"].join(\".\"+h+\" \")+\".\"+h,[\"ajax\",\"toggle\",\"redir\",\"addClass\",\"removeClass\"].join(\".\"+m+\" \")+\".\"+m,[\"tblfilter\",a].join(\".\"+b+\" \")+\".\"+b,[\"select\",\"checkbox\",\"radio\"].join(\".\"+x+\" \")+\".\"+x].join(\" \"),R=function(e,t,r,a){var n=e.data(t);return n&&!a||(n=[]),n.push(r),e.data(t,n)},M=function(e,t){var r=t.$selElm,a=t.name,n=t.value;a&&t.provEvt.setAttribute(\"name\",a),n&&r.val(n),r.attr(\"data-\"+T,T)},U=function(t,r){var a=e(r.origin),n=e(t.target).data(A),i=r.toggle;i&&\"string\"==typeof i&&(i={selector:i}),i=e.extend({},i,n.toggle),a.addClass(\"wb-toggle\"),a.trigger(\"toggle.wb-toggle\",i),i.type=\"off\",a.one(y,function(){a.addClass(\"wb-toggle\"),a.trigger(\"toggle.wb-toggle\",i),a.removeClass(\"wb-toggle\")})},Q=function(t,a){var n,i,o,s,u,d,p,f,g=a.outputctnrid,b=a.actions,h=a.lblselector,m=!!a.required,v=!a.noreqlabel,w=a.items,y=t.target,j=e(y),x=a.source,k=j.data(A).i18n,C=a.attributes,q=r.getId(),T=\"<legend class='h5 \",N=\"</span>\",D=\"<fieldset id='\"+q+\"' data-\"+I+\"='\"+y.id+\"' \"+O+\"='\"+x.id+\"' class='\"+l+\" mrgn-bttm-md'\",P=\"\",M=a.typeRadCheck,U=a.inline,Q=c+q;if(C&&\"object\"==typeof C)for(s in C)C.hasOwnProperty(s)&&(D+=\" \"+s+\"='\"+C[s]+\"'\");for(n=e(D+\"></fieldset>\"),m&&v&&(T+=\" required\",N+=\" <strong class='required'>(\"+k.required+\")</strong>\"),T+=\"'>\",N+=\"</legend>\",h?(i=e(\"<div>\"+a.label+\"</div>\").find(h),n.append(T+i.html()+N).append(i.nextAll()),o=i.prevAll()):n.append(e(T+a.label+N)),s=0,u=w.length;s!==u;s+=1)if((f=w[s]).group)for(P+=\"<p>\"+f.label+\"</p>\",p=f.group.length,d=0;d!==p;d+=1)P+=_(f.group[d],Q,M,U,m);else P+=_(f,Q,M,U,m);n.append(P),e(\"#\"+g).append(n),o&&n.before(o),b&&b.length>0&&n.data(E,b),R(j,S,q)},J=function(t,n){var i,l,s,c,u,p,f,g,b,h,m,v,w,y=t.get(),j=y.length,x=[];for(i=0;i!==j;i+=1){if(c=\"\",u=null,s=\"\",b=(l=y[i]).firstChild,f=(g=l.childNodes).length,!b)throw\"You have a markup error, There may be an empyt <li> elements in your list.\";for(w=[],\"A\"===b.nodeName&&(c=b.getAttribute(\"href\"),s=e(b).html(),f=1,w.push({action:\"redir\",url:c})),p=1;p!==f;p+=1){if(h=g[p],(m=e(h)).hasClass(o)){v=h.id||r.getId(),h.id=v,c=a+\"-\"+v,w.push({action:\"append\",srctype:a,source:\"#\"+v});break}if(\"UL\"===h.nodeName){if(n)throw\"Recursive error, please check your code\";u=J(m.children(),!0)}m.hasClass(d)&&(s=m.html())}s||(s=b.nodeValue),l.id||(l.id=r.getId()),x.push({bind:l.id,label:s,actions:w,group:u})}return x},B=function(e){var t=e.label,r=\"<option value='\"+t+\"'\";return r+=F(e),r+=\">\"+t+\"</option>\"},F=function(e){var t=\"\",r={};return r.bind=e.bind||\"\",r.actions=e.actions||[],t+=\" data-\"+a+\"='\"+JSON.stringify(r)+\"'\"},_=function(e,t,a,n,i){var o=e.label,l=r.getId(),s=\" for='\"+l+\"'><input id='\"+l+\"' type='\"+a+\"' name='\"+t+\"' value='\"+o+\"'\";return s=n?\"<label class='\"+a+(n?\"-inline\":\"\")+\"'\"+s:\"<div class='\"+a+\"'><label\"+s,s+=F(e),i&&(s+=\" required='required'\"),s+=\" /> \"+o+\"</label>\",n||(s+=\"</div>\"),s};N.on(j,n+\", .\"+o,function(t){var r,a,n,i,o,l,s,c=t.target,u=[];if(c===t.currentTarget&&(a=(r=e(c)).data(A))&&a.reset)for(n=a.reset,e.isArray(n)?u=n:u.push(n),o=u.length,i=0;i!==o;i+=1)(s=(l=u[i]).action)&&(!1!==l.live&&(l.live=!0),r.trigger(s+\".\"+h,l))}),N.on(\"change\",f+\" \"+s,function(n){var i,o,l,s,c,u,d,p,f=n.currentTarget,g=e(f),b=g.nextAll(),m=e(\"#\"+f.getAttribute(\"data-\"+I)),v=e(\"#\"+f.getAttribute(O)),w=m.data(S),x=g.find(\":checked\",g),k=g.get(0).form;if(s=b.length){for(l=s;0!==l;l-=1)(d=b[l])&&((p=w.indexOf(d.id))>-1&&w.splice(p,1),e(\"#\"+d.getAttribute(O)).trigger(j).trigger(y),e(d).trigger(y));m.data(S,w),b.remove()}v.trigger(j).trigger(y),g.trigger(y),g.data(C,[]);var T,N,D,P,R,M,U,Q,J,B=[],F=[],_=[];for(T=m.data(A),(N=v.data(A))&&T&&(T=e.extend({},T,N)),x.length&&x.val()&&T&&T.default&&(o=T.default,e.isArray(o)?B=o:B.push(o)),R=T.action,M=T.prop,q=T.actionData||{},(o=g.data(E))&&(B=B.concat(o)),l=0,s=x.length;l!==s;l+=1)if(i=x.get(l),(D=r.getData(i,a))&&(J=D.bind,B=B.concat(D.actions),J&&(P=t.getElementById(J).getAttribute(\"data-\"+a)))){if(P.startsWith(\"{\")||P.startsWith(\"[\")){try{o=JSON.parse(P)}catch(t){e.error(\"Bad JSON object \"+P)}e.isArray(o)||(o=[o])}else(o={}).action=R,o[M]=P,o=[o=e.extend(!0,{},q,o)];B=B.concat(o)}if(!B.length)return!0;for(l=0,s=B.length;l!==s;l+=1)(u=(c=B[l]).target)&&u!==J?_.push(c):F.push(c);for(U=T.base||{},Q=_.length,l=0,s=F.length;l!==s;l+=1)(c=e.extend({},U,F[l])).origin=v.get(0),c.provEvt=f,c.$selElm=x,c.form=k,Q&&(c.actions=_),m.trigger(c.action+\".\"+h,c);return!0}),N.on(\"submit\",f+\" form\",function(t){var r,a,n,i,o,l,s,c,d,p,f,g,b,w,j,x=t.currentTarget,E=e(x),q=E.data(S),O=E.data(k)||[],T=q?q.length:0,N=[],D=[],P=!1;for(T&&(i=(n=e(\"#\"+q[T-1])).data(S),e(\"#\"+i[i.length-1]).trigger(y),n.trigger(y)),a=0;a!==T;a+=1)for(p=(o=(n=e(\"#\"+q[a])).data(S)).length,d=0;d!==p;d+=1){if(l=e(\"#\"+o[d]),s=e(\"#\"+l.data(I)),D.push(s),c=s.data(A),!(w=l.data(C))&&c.defaultIfNone){for(f=0,g=(w=c.defaultIfNone).length;f!==g;f+=1)(b=w[f]).origin=s.get(0),b.$selElm=s.prev().find(\"input, select\").eq(0),b.provEvt=b.$selElm.get(0),b.form=x,s.trigger(b.action+\".\"+h,b);w=l.data(C)}if(w)for(f=0,g=w.length;f!==g;f+=1)(b=w[f]).form=x,n.trigger(b.action+\".\"+m,b),N.push({$elm:n,data:b}),P=P||b.preventSubmit,j=b.provEvt}if(!P){for(E.find(u).removeAttr(\"name\"),T=O.length,a=0;a!==T;a+=1)e(O[a]).remove();var R,M,U,Q,J,B;if(O=[],(R=E.attr(\"action\"))&&(M=R.indexOf(\"?\"))>0){for(T=(B=R.substring(M+1).split(\"&\")).length,a=0;a!==T;a+=1)Q=U=B[a],U.indexOf(\"=\")>0&&(Q=(J=U.split(\"=\",2))[0],U=J[1]),r=e(\"<input type='hidden' name='\"+Q+\"' value='\"+U+\"' />\"),E.append(r),O.push(r.get(0));E.data(k,O)}}for(T=D.length,a=0;a!==T;a+=1)(c=(s=D[a]).data(A)).action&&N.push({$elm:s,data:c});for(T=N.length,a=0;a!==T;a+=1)(b=N[a]).data.lastProvEvt=j,b.$elm.trigger(b.data.action+\".\"+v,b.data);if(P)return t.preventDefault(),t.stopPropagation?t.stopImmediatePropagation():t.cancelBubble=!0,!1}),N.on(\"keyup\",f+\" select\",function(t){if(-1!==navigator.userAgent.indexOf(\"Gecko\"))return!(!t.keyCode||1!==t.keyCode&&9!==t.keyCode&&16!==t.keyCode&&!t.altKey&&!t.ctrlKey)||(e(t.target).trigger(\"change\"),!0)}),N.on(P,n,function(t,n){var i=t.type;switch(t.namespace){case b:switch(i){case a:!function(t,n){if(t.namespace===b){var i,l,s,c,u,f,g,h=t.target,m=e(h),v=e(n.source),w=v.get(0),y=n.lblselector||\".\"+d,j=n.itmselector||\"ul:first() > li\";v.hasClass(o)&&(i=r.getData(v,a),v.data(A,i),n=e.extend({},n,i)),f=n.actions||[],g=n.renderas?n.renderas:\"select\",w.id||(w.id=r.getId()),(s=v.children().first()).hasClass(p)?(c=s.html(),j=\".\"+p+\" + \"+j):(c=(l=s.find(y)).length?l.html():v.find(\"> p\").html(),y=null),u=J(v.find(j)),n.outputctnrid||(n.outputctnrid=n.provEvt.parentElement.id),m.trigger(g+\".\"+x,{actions:f,source:w,attributes:n.attributes,outputctnrid:n.outputctnrid,label:c,lblselector:y,defaultselectedlabel:n.defaultselectedlabel,required:!n.isoptional,noreqlabel:n.noreqlabel,items:u,inline:n.inline})}}(t,n);break;case\"tblfilter\":!function(t,r){if(t.namespace===b){var a,n,i,o,l,s,c,u,d,p,f,g,h,m=r.column,v=r.csvextract,w=r.source,y=e(w),j=[],S=r.label,k=r.defaultselectedlabel,A=r.lblselector,E=r.fltrseq?r.fltrseq:[],C=r.limit?r.limit:10;if(!y.hasClass(\"wb-tables-inited\"))return y.one(\"wb-ready.wb-tables\",function(){e(t.target).trigger(\"tblfilter.\"+b,r)}),!1;if((n=y.dataTable({retrieve:!0}).api()).rows({search:\"applied\"}).data().length<=C)return!0;if(h=r.renderas?r.renderas:\"select\",!m&&E.length){if(!(d=E.shift()).column)throw\"Column is undefined in the filter sequence\";m=d.column,v=d.csvextract,k=d.defaultselectedlabel,S=d.label,A=d.lblselector}if(a=n.column(m,{search:\"applied\"}),v)for(l=0,s=(i=a.data()).length;l!==s;l+=1)j=j.concat(i[l].split(\",\"));else for(l=0,s=(i=a.nodes()).length;l!==s;l+=1)for(c=0,u=(o=e(i[l]).find(\"li\")).length;c!==u;c+=1)j.push(e(o[c]).text());j=j.sort().filter(function(e,t,r){return!t||e!==r[t-1]});var q=t.target,I=e(q),O=[],T=r.actions?r.actions:[];for(E.length&&(g={action:\"append\",srctype:\"tblfilter\",source:w,renderas:(p=E[0]).renderas?p.renderas:h,fltrseq:E,limit:C}),l=0,s=j.length;l!==s;l+=1)f={label:d=j[l],actions:[{action:\"tblfilter\",source:w,column:m,value:d}]},g&&f.actions.push(g),O.push(f);S||(S=a.header().textContent),r.outputctnrid||(r.outputctnrid=r.provEvt.parentElement.id),I.trigger(h+\".\"+x,{actions:T,source:y.get(0),outputctnrid:r.outputctnrid,label:S,defaultselectedlabel:k,lblselector:A,items:O,inline:r.inline})}}(t,n)}break;case x:switch(i){case\"select\":!function(t,a){var n,i,o,s,u,d,p,f,g,b=a.outputctnrid,h=e(\"#\"+b),m=a.actions,v=a.lblselector,w=!!a.required,y=!a.noreqlabel,j=a.items,x=t.target,k=e(x),C=a.source,q=a.attributes,T=k.data(A).i18n,N=r.getId(),D=\"<label for='\"+N+\"'\",P=\"</span>\",M=a.defaultselectedlabel?a.defaultselectedlabel:T.defaultsel;if(w&&y&&(D+=\" class='required'\",P+=\" <strong class='required'>(\"+T.required+\")</strong>\"),D+=\"><span class='field-name'>\",P+=\"</label>\",v?(i=(n=e(\"<div>\"+a.label+\"</div>\")).find(v)).html(D+i.html()+P):n=e(D+a.label+P),o=\"<select id='\"+N+\"' name='\"+c+N+\"' class='full-width form-control mrgn-bttm-md \"+l+\"' data-\"+I+\"='\"+x.id+\"' \"+O+\"='\"+C.id+\"'\",w&&(o+=\" required\"),q&&\"object\"==typeof q)for(u in q)q.hasOwnProperty(u)&&(o+=\" \"+u+\"='\"+q[u]+\"'\");for(o+=\"><option value=''>\"+M+\"</option>\",u=0,d=j.length;u!==d;u+=1)if((g=j[u]).group){for(o+=\"<optgroup label='\"+g.label+\"'>\",f=g.group.length,p=0;p!==f;p+=1)o+=B(g.group[p]);o+=\"</optgroup>\"}else o+=B(g);s=e(o+=\"</select>\"),h.append(n).append(s),m&&m.length>0&&s.data(E,m),R(k,S,N)}(t,n);break;case\"checkbox\":n.typeRadCheck=\"checkbox\",Q(t,n);break;case\"radio\":n.typeRadCheck=\"radio\",Q(t,n)}break;case h:switch(i){case\"append\":!function(t,r){if(t.namespace===h){var n=r.srctype?r.srctype:a;if(r.container=r.provEvt.parentNode.id,!r.source)throw\"A source is required to append a field flow control.\";e(t.currentTarget).trigger(n+\".\"+b,r)}}(t,n);break;case\"redir\":R(e(n.provEvt),C,n,!0);break;case\"ajax\":!function(t,r){var a,n=r.provEvt;r.live?(r.container||(a=e(\"<div></div>\"),e(n.parentNode).append(a),r.container=a.get(0)),e(t.target).trigger(\"ajax.\"+m,r)):(r.preventSubmit=!0,R(e(n),C,r))}(t,n);break;case\"tblfilter\":!function(t,r){if(t.namespace===h){var a,n=r.source,i=e(n).dataTable({retrieve:!0}).api(),o=r.column,l=parseInt(o,10),s=!!r.regex,c=!r.smart||!!r.smart,u=!r.caseinsen||!!r.caseinsen;o=!0===l?l:o,(a=i.column(o)).search(r.value,s,c,u).draw(),e(r.provEvt).one(y,function(){a.search(\"\").draw()})}}(t,n);break;case\"toggle\":n.live?U(t,n):(n.preventSubmit=!0,R(e(n.provEvt),C,n));break;case\"addClass\":if(!n.source||!n.class)return;n.live?e(n.source).addClass(n.class):(n.preventSubmit=!0,R(e(n.provEvt),C,n));break;case\"removeClass\":if(!n.source||!n.class)return;n.live?e(n.source).removeClass(n.class):(n.preventSubmit=!0,R(e(n.provEvt),C,n));break;case\"query\":M(0,n)}break;case m:switch(i){case\"redir\":!function(e,t){var r=t.form,a=t.url;a&&r.setAttribute(\"action\",a)}(0,n);break;case\"ajax\":!function(t,a){var n,i,o,l=a.clean;a.container?n=e(a.container):(i=r.getId(),n=e(\"<div id='\"+i+\"'></div>\"),e(a.form).append(n),l=\"#\"+i),l&&e(a.origin).one(y,function(){e(l).empty()}),a.trigger&&n.attr(\"data-trigger-wet\",\"true\"),o=a.type?a.type:\"replace\",n.attr(\"data-ajax-\"+o,a.url),n.one(\"wb-contentupdated\",function(t,a){var n=t.currentTarget,i=n.getAttribute(\"data-trigger-wet\");n.removeAttribute(\"data-ajax-\"+a[\"ajax-type\"]),i&&(e(n).find(r.allSelectors).addClass(\"wb-init\").filter(\":not(#\"+n.id+\" .wb-init .wb-init)\").trigger(\"timerpoke.wb\"),n.removeAttribute(\"data-trigger-wet\"))}),n.trigger(\"wb-update.wb-data-ajax\")}(0,n);break;case\"toggle\":U(t,n);break;case\"addClass\":e(n.source).addClass(n.class);break;case\"removeClass\":e(n.source).removeClass(n.class);break;case\"query\":M(0,n)}}}),N.on(\"timerpoke.wb \"+g,n,function(t){switch(t.type){case\"timerpoke\":case\"wb-init\":!function(t){var o,l,s,c,u,d=r.init(t,a,n);if(d){o=e(d),l=d.id,D.i18n[r.lang]&&(D.i18n=D.i18n[r.lang]),(s=r.getData(o,a))&&s.i18n&&(s.i18n=e.extend({},D.i18n,s.i18n)),(c=e.extend({},D,s)).defaultIfNone&&!e.isArray(c.defaultIfNone)&&(c.defaultIfNone=[c.defaultIfNone]),o.data(A,c),u=c.i18n,String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e});var p,f,g,h=r.getId();if(c.noForm){for(p=\"<div class='mrgn-tp-md'><div id='\"+h+\"'></div></div>\",f=d.parentElement;\"FORM\"!==f.nodeName;)f=f.parentElement;e(f.parentElement).addClass(i)}else p=(p=\"<div class='wb-frmvld \"+i+\"'><form><div id='\"+h+\"'>\")+'</div><input type=\"submit\" value=\"'+u.btn+'\" class=\"btn btn-primary mrgn-bttm-md\" /> </form></div>';o.addClass(\"hidden\"),p=e(p),o.after(p),c.noForm||(f=p.find(\"form\"),p.trigger(\"wb-init.wb-frmvld\")),g=e(f),R(g,S,l),c.outputctnrid||(c.outputctnrid=h),c.source||(c.source=d),c.srctype||(c.srctype=a),c.inline=!!c.inline,o.trigger(c.srctype+\".\"+b,c),c.unhideelm&&e(c.unhideelm).removeClass(\"hidden\"),c.hideelm&&e(c.hideelm).addClass(\"hidden\"),r.ready(o,a),c.ext&&(c.form=g.get(0),o.trigger(c.ext+\".\"+w,c))}}(t)}return!0}),r.add(n)}(jQuery,document,wb),\n/**\n * @title WET-BOEW JSON Fetch [ json-fetch ]\n * @overview Load and filter data from a JSON file\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t){\"use strict\";var r=t.doc,a={},n={},i=function(t,r,a,n,o,l){if(!window.jsonpointer)return setTimeout(function(){i(t,r,a,n,o,l)},100),!1;l&&(a=jsonpointer.get(a,l)),e(\"#\"+t).trigger({type:\"json-fetched.wb\",fetch:{response:a,status:n,xhr:o,refId:r}},this)};r.on(\"json-fetch.wb\",function(r){var o,l,s,c,u=r.element||r.target,d=r.fetch,p=d.url.split(\"#\"),f=p[0],g=d.nocache,b=d.nocachekey||t.cacheBustKey||\"wbCacheBust\",h=p[1]||!1,m=d.refId;if(u===r.target||r.currentTarget===r.target){if(u.id||(u.id=t.getId()),s=u.id,h){if(91===(l=h.split(\"/\")[0]).charCodeAt(0))return void e(\"#\"+s).trigger({type:\"postpone.wb-jsonmanager\",postpone:{callerId:s,refId:m,dsname:l,selector:h.substring(l.length)}});d.url=f}g&&(o=b+\"=\"+(\"nocache\"===g?t.guid():t.sessionGUID()),f=-1!==f.indexOf(\"?\")?f+\"&\"+o:f+\"?\"+o,d.url=f),Modernizr.load({load:\"site!deps/jsonpointer\"+t.getMode()+\".js\",complete:function(){if(!d.nocache){if(c=a[f])return void i(s,m,c,\"success\",void 0,h);if(n[f])return void n[f].push({callerId:s,refId:m,selector:h});n[f]=[]}e.ajax(d).done(function(e,t,r){var o,l,c,u;if(!d.nocache)try{a[f]=e}catch(e){return}if(i(s,m,e,t,r,h),n[f])for(l=(u=n[f]).length,o=0;o!==l;o+=1)c=u[o],i(c.callerId,c.refId,e,t,r,c.selector)}).fail(function(t,r,a){e(\"#\"+s).trigger({type:\"json-failed.wb\",fetch:{xhr:t,status:r,error:a,refId:m}},this)},this)}})}})}(jQuery,wb),\n/**\n * @title WET-BOEW JSON Manager\n * @overview Manage JSON dataset, execute JSON patch operation.\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t,r){\"use strict\";var a=\"wb-jsonmanager\",n=\"[data-wb-jsonmanager]\",i=[],o={},l={},s={},c=r.doc,u={ops:[{name:\"wb-count\",fn:function(t,r,a){var n,i,o=t[r],l=0,s=this.filter||[],c=this.filternot||[];if(e.isArray(s)||(s=[s]),e.isArray(c)||(c=[c]),(s.length||c.length)&&e.isArray(o))for(n=o.length,i=0;i!==n;i+=1)p(o[i],s,c)&&(l+=1);else e.isArray(o)&&(l=o.length);jsonpatch.apply(a,[{op:\"add\",path:this.set,value:l}])}},{name:\"wb-first\",fn:function(t,r,a){var n=t[r];e.isArray(n)&&0!==n.length&&jsonpatch.apply(a,[{op:\"add\",path:this.set,value:n[0]}])}},{name:\"wb-last\",fn:function(t,r,a){var n=t[r];e.isArray(n)&&0!==n.length&&jsonpatch.apply(a,[{op:\"add\",path:this.set,value:n[n.length-1]}])}},{name:\"wb-nbtolocal\",fn:function(e,r,a){var n=e[r],i=this.locale||t.wb.lang,o=this.suffix||\"\",l=this.prefix||\"\";\"string\"==typeof n&&(n=parseFloat(n),isNaN(n))||jsonpatch.apply(a,[{op:\"replace\",path:this.path,value:l+n.toLocaleString(i)+o}])}},{name:\"wb-toDateISO\",fn:function(e,t,a){this.set?jsonpatch.apply(a,[{op:\"add\",path:this.set,value:r.date.toDateISO(e[t])}]):jsonpatch.apply(a,[{op:\"replace\",path:this.path,value:r.date.toDateISO(e[t])}])}},{name:\"wb-toDateTimeISO\",fn:function(e,t,a){this.set?jsonpatch.apply(a,[{op:\"add\",path:this.set,value:r.date.toDateISO(e[t],!0)}]):jsonpatch.apply(a,[{op:\"replace\",path:this.path,value:r.date.toDateISO(e[t],!0)}])}}],opsArray:[{name:\"wb-toDateISO\",fn:function(e){var t,r=this.set,a=this.path,n=e.length;for(t=0;t!==n;t+=1)r?jsonpatch.apply(e,[{op:\"wb-toDateISO\",set:\"/\"+t+r,path:\"/\"+t+a}]):jsonpatch.apply(e,[{op:\"wb-toDateISO\",path:\"/\"+t+a}])}},{name:\"wb-toDateTimeISO\",fn:function(e){var t,r=this.set,a=this.path,n=e.length;for(t=0;t!==n;t+=1)r?jsonpatch.apply(e,[{op:\"wb-toDateTimeISO\",set:\"/\"+t+r,path:\"/\"+t+a}]):jsonpatch.apply(e,[{op:\"wb-toDateTimeISO\",path:\"/\"+t+a}])}}],opsRoot:[],settings:{}},d=function(e,t,r,a){e.after('<p lang=\"en\"><strong>JSON Manager Debug</strong> ('+t+')</p><ul lang=\"en\"><li>JSON: <pre><code>'+JSON.stringify(r)+\"</code></pre></li><li>Patches: <pre><code>\"+JSON.stringify(a)+\"</code></pre>\")},p=function(e,t,r){var a,n,i,o=t.length,l=r.length,s=!1;if(o||l){for(a=0;a<o;a+=1)if(n=t[a],i=f(jsonpointer.get(e,n.path),n.value),n.optional)s=s||i;else{if(!i)return!1;s=!0}if(o&&!s)return!1;for(a=0;a<l;a+=1)if(n=r[a],(i=f(jsonpointer.get(e,n.path),n.value))&&!n.optional||i&&n.optional)return!1}return!0},f=function(t,r){switch(typeof t){case\"undefined\":return!1;case\"boolean\":case\"string\":case\"number\":return t===r;case\"object\":if(null===t)return null===r;if(e.isArray(t)){if(e.isArray(r)||t.length!==r.length)return!1;for(var a=0,n=t.length;a<n;a++)if(!f(t[a],r[a]))return!1;return!0}var i=g(r).length;if(g(t).length!==i)return!1;for(a=0;a<i;a++)if(!f(t[a],r[a]))return!1;return!0;default:return!1}},g=function(t){if(e.isArray(t)){for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=\"\"+a;return r}if(Object.keys)return Object.keys(t);r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(n);return r},b=function(t,r,a,n){var i,o;if(e.isArray(a)||(a=[a]),e.isArray(n)||(n=[n]),i=jsonpointer.get(t,r),e.isArray(i))for(o=i.length-1;-1!==o;o-=1)p(i[o],a,n)||jsonpatch.apply(t,[{op:\"remove\",path:r+\"/\"+o}]);return t};r.ie&&(Number.prototype.toLocaleString=function(e){var t,r=this.toString().split(\".\"),a=r[0],n=r[1],i=a.length,o=i%3||3,l=a.substr(0,o),s=\"fr\"===e,c=s?\" \":\",\";for(t=o;t<i;t+=3)l=l+c+a.substr(t,3);return n.length&&(l=s?l+\",\"+n:l+\".\"+n),l}),c.on(\"json-failed.wb\",n,function(t){var n,i=t.target;i===t.currentTarget&&((n=e(i)).addClass(\"jsonfail\"),r.ready(n,a))}),c.on(\"json-fetched.wb\",n,function(t){var n,i,c,u,p,f,g,h,m,v,w,y,j=t.target,x=e(j),S=t.fetch.response,k=e.isArray(S);if(j===t.currentTarget){i=\"[\"+(n=r.getData(x,a)).name+\"]\",m=n.patches||[],y=n.fpath,v=n.filter||[],w=n.filternot||[],e.isArray(m)||(m=[m]),S=k?e.extend([],S):e.extend({},S),y&&(S=b(S,y,v,w)),m.length&&(k&&n.wraproot&&((f={})[n.wraproot]=S,S=f),jsonpatch.apply(S,m)),n.debug&&d(x,\"initEvent\",S,m);try{o[i]=S}catch(e){return}if(l[i]=n,!n.wait&&s[i])for(p=(g=s[i]).length,u=0;u!==p;u+=1){if((h=(f=g[u]).selector).length)try{c=jsonpointer.get(S,h)}catch(e){throw i+\" - JSON selector not found: \"+h}else c=S;e(\"#\"+f.callerId).trigger({type:\"json-fetched.wb\",fetch:{response:c,status:\"200\",refId:f.refId,xhr:null}},this)}r.ready(x,a)}}),c.on(\"patches.wb-jsonmanager\",n,function(t){var n,i,l,c,u,p,f,g,h,m=t.target,v=e(m),w=t.patches,y=t.fpath,j=t.filter||[],x=t.filternot||[],S=!!t.cumulative;if(m===t.currentTarget&&e.isArray(w)){if(!(n=r.getData(v,a)))return!0;if(i=\"[\"+n.name+\"]\",!s[i])throw\"Applying patched on undefined dataset name: \"+i;for(l=o[i],S||(l=e.extend(!0,e.isArray(l)?[]:{},l)),y&&(l=b(l,y,j,x)),jsonpatch.apply(l,w),n.debug&&d(v,\"patchesEvent\",l,w),f=(u=s[i]).length,p=0;p!==f;p+=1){if((h=(g=u[p]).selector).length)try{c=jsonpointer.get(l,h)}catch(e){throw i+\" - JSON selector not found: \"+h}else c=l;e(\"#\"+g.callerId).trigger({type:\"json-fetched.wb\",fetch:{response:c,status:\"200\",refId:g.refId,xhr:null}},this)}}}),c.on(\"postpone.wb-jsonmanager\",function(t){var r,a=t.postpone,n=a.dsname,i=a.callerId,c=a.refId,u=a.selector;if(s[n]||(s[n]=[]),s[n].push({callerId:i,refId:c,selector:u}),o[n]&&!l[n].wait){if(r=o[n],u.length)try{r=jsonpointer.get(r,u)}catch(e){throw n+\" - JSON selector not found: \"+u}e(\"#\"+i).trigger({type:\"json-fetched.wb\",fetch:{response:r,status:\"200\",refId:c,xhr:null}},this)}}),c.on(\"op.action.wb-fieldflow\",\".wb-fieldflow\",function(t,r){r.op&&(r.preventSubmit=!0,function(e,t,r,a){var n=e.data(t);n&&!a||(n=[]),n.push(r),e.data(t,n)}(e(r.provEvt),\"wb-fieldflow-submit\",r))}),c.on(\"op.submit.wb-fieldflow\",\".wb-fieldflow\",function(t,r){var a,n=r.op,i=r.source;if(!n)return!0;e.isArray(n)?a=n:(a=[]).push(n),e(i).trigger({type:\"patches.wb-jsonmanager\",patches:a})}),c.on(\"timerpoke.wb wb-init.wb-jsonmanager\",n,function(o){var l,s,c,d,p,f,g,b,h,m=r.init(o,a,n),v=t[a]||{};m&&(l=e(m),Modernizr.load({load:\"site!deps/json-patch\"+r.getMode()+\".js\",testReady:function(){return t.jsonpatch},complete:function(){var t=r.getData(l,a);if(!u.registered){if(s=u.ops.concat(v.ops||[]),c=u.opsArray.concat(v.opsArray||[]),d=u.opsRoot.concat(v.opsRoot||[]),s.length)for(p=0,f=s.length;p!==f;p++)g=s[p],jsonpatch.registerOps(g.name,g.fn);if(c.length)for(p=0,f=c.length;p!==f;p++)g=c[p],jsonpatch.registerOpsArray(g.name,g.fn);if(d.length)for(p=0,f=d.length;p!==f;p++)g=d[p],jsonpatch.registerOpsRoot(g.name,g.fn);u.settings=e.extend({},u.settings,v.settings||{}),u.registered=!0}if(!(h=t.name)||h in i)throw\"Dataset name must be unique\";i.push(h),(b=t.url)?(l.trigger({type:\"json-fetch.wb\",fetch:{url:b,nocache:t.nocache,nocachekey:t.nocachekey}}),35===b.charCodeAt(0)&&91===b.charCodeAt(1)&&r.ready(l,a)):r.ready(l,a)}}))}),r.add(n)}(jQuery,window,wb),\n/**\n * @title Menu for GCWeb v5\n * @overview Menu keyboard and mouse interaction with supporting responsiveness\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t){\"use strict\";var r,a,n,i,o,l=\".gcweb-menu\",s=t.doc,c=\".gcweb-menu [data-ajax-replace],.gcweb-menu [data-ajax-append],.gcweb-menu [data-ajax-prepend],.gcweb-menu [data-wb-ajax]\",u=350,d=function(r){var a=e(r).parentsUntil(l).parents(),n=document.querySelector(\"html\").className;i=-1!==n.indexOf(\"smallview\"),o=-1!==n.indexOf(\"mediumview\"),(i||o)&&b(!1,o),t.ready(a,\"gcweb-menu\")};function p(e){if(\"true\"!==e.getAttribute(\"aria-expanded\")){var t=e.parentElement.parentElement.querySelector(\"[aria-haspopup][aria-expanded=true]:not([data-keep-expanded=md-min])\");t&&!i&&f(t,!0),e.setAttribute(\"aria-expanded\",\"true\"),n=e,setTimeout(function(){n=!1},u)}}function f(e,t){if(e.hasAttribute(\"aria-haspopup\")||(e=e.previousElementSibling),!t){var r=e.nextElementSibling.querySelector(\"[role=menuitem]:focus\"),a=e.parentElement.parentElement.querySelector(\"[role=menuitem]:focus\");if(r||a===e)return}e.setAttribute(\"aria-expanded\",\"false\")}function g(e){\"md-min\"!==e.dataset.keepExpanded&&(clearTimeout(a),a=setTimeout(function(){f(e)},u))}function b(e,t){var r,a=document.querySelectorAll(\"[role=menu] [role=menu] [role=menuitem][aria-haspopup=true]\"),n=a.length,i=t?\"true\":\"false\",o=e?\"vertical\":\"horizontal\",l=i;for(r=0;r<n;r++)l=a[r].nextElementSibling.querySelector(\"[role=menuitem]:focus\")?\"true\":i,a[r].setAttribute(\"aria-expanded\",l),a[r].parentElement.previousElementSibling.setAttribute(\"aria-orientation\",o)}s.on(\"mouseenter\",l+\" ul [aria-haspopup]\",function(e){var t;i||(clearTimeout(a),\"md-min\"!==(t=e.currentTarget).dataset.keepExpanded&&(clearTimeout(r),r=setTimeout(function(){p(t)},u)))}),s.on(\"focusin\",l+\" ul [aria-haspopup]\",function(e){i||p(e.currentTarget)}),s.on(\"mouseenter focusin\",l+\" [aria-haspopup] + [role=menu]\",function(e){\"md-min\"!==e.currentTarget.previousElementSibling.dataset.keepExpanded&&(i||n===e.currentTarget||clearTimeout(a))}),s.on(\"mouseleave\",l+\" [aria-haspopup]\",function(e){i||(clearTimeout(r),g(e.currentTarget))}),s.on(\"focusout\",l+\" [aria-haspopup]\",function(e){i||g(e.currentTarget)}),s.on(\"mouseleave focusout\",l+\" [aria-haspopup] + [role=menu]\",function(e){\"md-min\"!==e.currentTarget.previousElementSibling.dataset.keepExpanded&&(i||g(e.currentTarget))}),s.on(\"click\",l+\" [aria-haspopup]\",function(e){var t,r=e.currentTarget;(i||\"BUTTON\"===r.nodeName)&&(\"true\"===r.getAttribute(\"aria-expanded\")?n!==r&&f(r,!0):(p(r),(t=r.nextElementSibling.querySelector(\"[role=menuitem]\")).focus(),t.setAttribute(\"tabindex\",\"0\"))),e.stopImmediatePropagation(),e.preventDefault()}),s.on(t.resizeEvents,function(e){switch(e.type){case\"xxsmallview\":case\"xsmallview\":case\"smallview\":i=!0,b(!1,!1);break;case\"mediumview\":i=!1,b(!1,!0);break;case\"largeview\":case\"xlargeview\":default:i=!1,b(!0,!0)}}),s.on(\"keydown\",function(e){27===e.keyCode&&f(document.querySelector(l+\" button\"))}),s.on(\"keydown\",l+\" button, \"+l+\" [role=menuitem]\",function(e){var t,r,a,n=e.currentTarget,o=9===(t=e.charCode||e.keyCode)?\"tab\":13===t||32===t?\"enter\":27===t?\"esc\":39===t?\"right\":37===t?\"left\":40===t?\"down\":38===t&&\"up\",l=document.querySelector(\"[role=menuitem]:focus\")||n,s=l.parentElement,c=s.parentElement,u=\"BUTTON\"===l.nodeName;l.nextElementSibling&&(r=l.nextElementSibling.querySelector(\"[role='menuitem']\")),s.nextElementSibling?(a=s.nextElementSibling.querySelector(\"[role=menuitem]\"))||(a=s.nextElementSibling.nextElementSibling.querySelector(\"[role=menuitem]\")):a=!i&&l.dataset.keepExpanded&&r?r:!i&&c.previousElementSibling.dataset.keepExpanded?c.parentElement.parentElement.querySelector(\"[role=menuitem]\"):c.querySelector(\"[role=menuitem]\");var d,f=c.previousElementSibling;s.previousElementSibling?(d=s.previousElementSibling.querySelector(\"[role=menuitem]\"))||(d=s.previousElementSibling.previousElementSibling.querySelector(\"[role=menuitem]\")):d=!i&&c.lastElementChild.querySelector(\"[role=menuitem]\").dataset.keepExpanded?c.lastElementChild.querySelector(\"[role=menuitem]\").nextElementSibling.lastElementChild.querySelector(\"[role=menuitem]\"):!i&&c.previousElementSibling.dataset.keepExpanded&&f?f:u?l.nextElementSibling.lastElementChild.querySelector(\"[role=menuitem]\"):c.lastElementChild.querySelector(\"[role=menuitem]\");for(var g,b,h,m,v,w=s;w.nextElementSibling;)if(\"separator\"===(w=w.nextElementSibling).getAttribute(\"role\")){g=!(!w.hasAttribute(\"aria-orientation\")||\"vertical\"!==w.getAttribute(\"aria-orientation\")),b=w.nextElementSibling.querySelector(\"[role=menuitem]\");break}for(w=s;w.previousElementSibling;){if(\"separator\"===(w=w.previousElementSibling).getAttribute(\"role\")){if(m)break;h=!(!w.hasAttribute(\"aria-orientation\")||\"vertical\"!==w.getAttribute(\"aria-orientation\")),m=w.previousElementSibling}m&&(m=w)}if(m&&(m=m.querySelector(\"[role=menuitem]\")),u||l.setAttribute(\"tabindex\",\"-1\"),\"down\"===o&&a)v=a;else if(\"up\"===o&&d)v=d;else if(!u&&\"right\"===o&&r||\"enter\"===o&&r)v=r;else if(g&&\"right\"===o)v=b;else if(h&&\"left\"===o)v=m;else if(!u&&\"left\"===o||!u&&\"esc\"===o)v=f;else if(\"tab\"===o)return;if(u||\"left\"!==o&&\"esc\"!==o||i&&\"true\"===v.getAttribute(\"aria-expanded\")&&v.setAttribute(\"aria-expanded\",\"false\"),v){if(i||u){var y=v.parentElement.parentElement.previousElementSibling;\"true\"!==y.getAttribute(\"aria-expanded\")&&p(y)}v.setAttribute(\"tabindex\",\"0\"),v.focus(),e.stopImmediatePropagation(),e.preventDefault()}}),s.on(\"ajax-fetched.wb ajax-failed.wb\",c,function(e){var t=e.target;e.currentTarget===t&&d(t)}),s.on(\"timerpoke.wb wb-init.gcweb-menu\",l,function(e){var r=t.init(e,\"gcweb-menu\",l);r&&(r.querySelector(c)||d(r.firstChild))}),t.add(l)}(jQuery,wb),\n/**\n * @title WET-BOEW URL mapping\n * @overview Execute pre-configured action based on url query string\n * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html\n * @author @duboisp\n */\nfunction(e,t,r){\"use strict\";var a,n=\"[data-wb-urlmapping]\",i=r.doc,o={op:\"move\",path:\"{base}\",from:\"{base}/{qval}\"},l=function(t,r,n){var i,l,u,d,p,f,g;for(l=(n=e.isArray(n)?e.extend([],n):[n]).length,i=0;i!==l;i+=1)if(d=(u=n[i]).action){if(p=u.match,g=u.default,f=!1,p&&!g)throw\"'match' and 'default' property need to be set\";if(g&&r.length&&\"string\"==typeof p)try{f=(f=new RegExp(p).exec(r))||g}catch(e){}switch(!u.qval&&f&&(u.qval=f),d){case\"patch\":var b=u.patches,h=u.base||\"/\";b||(b=[o],u.cumulative=!0),e.isArray(b)||(b=[b]),b=s(b,u.qval,h),u.patches=b;break;case\"ajax\":u.trigger&&t[0]!==a&&(u.trigger=!1),u.url=c(u.url,u.qval);break;case\"tblfilter\":u.value=c(u.value,u.qval)}}t.trigger({type:\"do.wb-actionmng\",actions:n})},s=function(t,r,a){var n,i,o,l=t.length,s=[];for(a||(a=\"/\"),n=0;n!==l;n+=1)i=t[n],o=e.extend({},i),i.path&&(o.path=c(i.path,r,a)),i.from&&(o.from=c(i.from,r,a)),i.value&&(o.value=c(i.value,r,a)),s.push(o);return s},c=function(e,t,r){return t?r?e.replace(/\\{qval\\}/,t).replace(/\\{base\\}/,r):e.replace(/\\{qval\\}/,t):e};i.on(\"domapping.wb-urlmapping\",n,function(a){var n,i,o,s=e(a.target),c=function(){for(var e={},r=/\\+/g,a=/([^&=]+)=?([^&]*)/g,n=function(e){return decodeURIComponent(e.replace(r,\" \"))},i=t.location.search.substring(1),o=a.exec(i);o;)e[n(o[1])]=n(o[2]),o=a.exec(i);return e}(),u=e.extend({},t[\"wb-urlmapping\"]||{},r.getData(s,\"wb-urlmapping\"));for(n in c)if(\"object\"==typeof(o=u[n+\"=\"+(i=c[n])]||u[n])&&(l(s,i,o),!u.multiplequery))break}),i.on(\"timerpoke.wb wb-init.wb-urlmapping\",n,function(t){var o,l=r.init(t,\"wb-urlmapping\",n);l&&(o=e(l),a||(a=l),r.ready(o,\"wb-urlmapping\"),r.isReady?o.trigger(\"domapping.wb-urlmapping\"):i.one(\"wb-ready.wb\",function(){o.trigger(\"domapping.wb-urlmapping\")}))}),r.add(n)}(jQuery,window,wb),function(e,t,r){\"use strict\";var a=r.doc,n=e(\"#wb-srch-q\"),i=e(\"#\"+n.attr(\"list\")),o=function(t){t.length>0&&e(this).trigger({type:\"ajax-fetch.wb\",fetch:{url:r.pageUrlParts.protocol+\"//clients1.google.com/complete/search?client=partner&sugexp=gsnos%2Cn%3D13&gs_rn=25&gs_ri=partner&partnerid=\"+window.encodeURIComponent(\"008724028898028201144:knjjdikrhq0+lang:\"+r.lang)+\"&types=t&ds=cse&cp=3&gs_id=b&hl=\"+r.lang+\"&q=\"+encodeURI(t),dataType:\"jsonp\",jsonp:\"callback\"}})};a.on(\"change keyup\",\"#wb-srch-q\",function(e){var t=e.target,r=e.target.value,a=e.which;switch(e.type){case\"change\":o.call(t,r);break;case\"keyup\":e.ctrlKey||e.altKey||e.metaKey||(32===a||a>47&&a<91||a>95&&a<112||a>159&&a<177||a>187&&a<223)&&o.call(t,r)}}),a.on(\"ajax-fetched.wb\",\"#wb-srch-q\",function(e){var t,a,o=e.fetch.response[1],l=o.length,s=\"\";for(i.empty(),t=0;t<l;t+=1)s+='<option label=\"'+(a=o[t])[0]+'\" value=\"'+a[0]+'\"></option>';r.ielt10&&(s=\"<select>\"+s+\"</select>\"),i.append(s),n.trigger(\"wb-update.wb-datalist\")}),window[\"wb-data-ajax\"]={corsFallback:function(e){return e.url=e.url.replace(\".html\",\".htmlp\"),e}},e(\"[data-reveal]\").change(function(){var t=e(this),r=t.attr(\"data-reveal\");return t.is(\":checked\")?e(r).removeClass(\"hide\"):e(r).addClass(\"hide\")})}(jQuery,document,wb)}]);","extractedComments":[]}